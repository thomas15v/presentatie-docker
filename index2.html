<html>
<head>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/sky.css">
    <link rel="stylesheet" href="plugin/reveal-run-in-terminal.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="zenburn.css">
    <link rel="stylesheet" type="text/css" href="/asciinema-player.css" />
    <script src="static/js/jquery.js"></script>
    <script src="static/js/typed.js"></script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h1>Analyse van docker</h1>
            <h3>Hoe kan Docker het productie- en/of developmentproces van applicaties versnellen?</h3>
            <small>Door Thomas Vanmellaerts</small>
        </section>

        <section>
            <h3>docker ps</h3>
            <terminal command="docker ps" result="Hello World"/>
        </section>
        <section>
            <pre class="hljs">
                <code data-trim data-noescape>
                    FROM node

                    RUN useradd -ms /bin/bash app
                    RUN mkdir /app && chown app:app app

                    EXPOSE 8080

                    USER app
                    WORKDIR /app

                    VOLUME ['/app']

                    ENTRYPOINT ["node", "index.js"]
                </code>
            </pre>
        </section>
        <section>
            <asciinema-player src="/asciicast-100183.json" cols="207" rows="45"></asciinema-player>
        </section>
    </div>
</div>
<script src="/asciinema-player.js"></script>
<script src="static/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
    Reveal.initialize({
        dependencies: [
            // Syntax highlight for <code> elements
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        ]
    });
    Reveal.addEventListener( 'slidechanged', function( event ) {
        var terminals = event.currentSlide.getElementsByTagName('terminal')
        for(var i = 0; i < terminals.length; i++){
            var terminal = terminals[i];
            var command = terminal.getAttribute("command")
            var result = terminal.getAttribute("result")
            terminal.innerHTML = "<div class='hljs' style='height: 400px; font-size: 22px; text-align: left'>" +
                    "<div class='terminal-line' style='padding-top: 20px;padding-left: 20px;'>$ <span/>" +
                    "</div><div style='padding-left: 20px;'><output/></div></div>"
            $(window).trigger('resize');
            setTimeout(function () {
                var typed = $(terminal).find('span');
                typed.typed({
                    strings: [command],
                    typeSpeed: 30, // typing speed
                    showCursor: false,
                    callback: function () {
                        $(terminal).find('output').html(result);
                    }
                });
            }, 1000)

        }
    } );
</script>
</body>
</html>